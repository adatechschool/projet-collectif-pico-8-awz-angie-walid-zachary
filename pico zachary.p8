pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
function _init() 
	p = {}
	p.x = 64
	p.y = 80
	p.dx = 0
	p.dy = 0
	s = 1
end

function _draw()
 cls()
	map(0,0,0,0,16,16)
	if (terre()) then 
		p.y = flr(flr(p.y)/8)*8
		end
	if (btnp(➡️)) then
	s = 1 
	end
	if (btnp(⬅️)) then 
	s = 2 
	end
	spr(s,p.x,p.y)
end

function _update()
 deplacement()
end
-->8
function terre()
	block = mget(flr(p.x+4)/8,flr(p.y)/8+1)
	return fget(block,0)
end

function murd()
	block = mget(flr(p.x+4)/8+1,flr(p.y)/8)
	return fget(block,0)
end

function murg()
	block = mget(flr(p.x+4)/8-1,flr(p.y)/8)
	return fget(block,0)
end

-->8
function deplacement()
	p.dx = 0
	if (btn(⬅️)) then
		if (murg()) then
		else
	 p.dx -= 2
	 end
	end
	if (btn(➡️)) then
		if (murd()) then
		else
	 p.dx += 2
	 end
	end
	p.x += p.dx
	
	if (terre()) then 
		p.dy = 0
		if (btnp(⬆️)) p.dy = -6
	else	
		p.dy += 0.98
		if (p.dy > 4) p.dy = 4
	end
	p.y += p.dy
end
__gfx__
00000000008b3b0000b3b800cccccccc444444444444444433333333000000000000000000000000000000000000000000000000000000000000000000000000
0000000008b5bbbbbbbb5b80cccccccc444444444444444433333333000000000000000000000000000000000000000000000000000000000000000000000000
007007000077bbbbbbbb7700cccccccc444444444444444433333333000000000000000000000000000000000000000000000000000000000000000000000000
000770000877bbbbbbbb7780cccccccc444444444444444444444444000000000000000000000000000000000000000000000000000000000000000000000000
000770000086777007776800cccccccccccccccc4444444444444444000000000000000000000000000000000000000000000000000000000000000000000000
007007003833663003663383cccccccccccccccc4444444444444444000000000000000000000000000000000000000000000000000000000000000000000000
0000000003b3663333663b30cccccccccccccccc4444444444444444000000000000000000000000000000000000000000000000000000000000000000000000
000000000088022002208800cccccccccccccccc4444444444444444000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0503030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505040403030303030404040404040404030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050404040404040303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050303030303030404040404040403030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050503030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060603030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050503030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050503030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050503030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050503030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
